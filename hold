let draggingItem = null;
let offsetX = 0;
let offsetY = 0;

element.addEventListener('mousedown', (e) => {
  const rect = element.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;

  items.forEach(item => {
    const dist = Math.hypot(mouseX - item.x, mouseY - item.y);
    if (dist < 10) {
      draggingItem = item;
      offsetX = mouseX - item.x;
      offsetY = mouseY - item.y;
    }
  });
});

element.addEventListener('mousemove', (e) => {
  if (draggingItem) {
    const rect = element.getBoundingClientRect();
    draggingItem.x = e.clientX - rect.left - offsetX;
    draggingItem.y = e.clientY - rect.top - offsetY;
    drawGame();
  }
});

element.addEventListener('mouseup', () => {
  draggingItem = null;
});
